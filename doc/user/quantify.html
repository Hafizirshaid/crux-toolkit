<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>crux quantify</title>

<link href="nsaf_files/crux.css" rel="styleSheet" type="text/css">
<style type="text/css">
  ul {
  margin-top:0px;
  padding-top:0px;
  }
</style>
 </head>
<body>
<blockquote>
<h1 align="center">crux quantify</h1>
<p>
<b>Usage:</b></p>
<blockquote>
<code>crux quantify [options] &lt;input-PSM&gt;&nbsp;</code><code>&lt;database&gt;</code>
</blockquote>
<p>
<b>Description:</b></p>
<blockquote>
<p>Given a collection of scored PSMs, produce a&nbsp;list
of proteins ranked by their a specified score. Quantify supports two types of quantification: Normalized Spectral Abundance Factor (NSAF) and Normalized Spectral Index (SI<sub>N</sub>). The NSAF method is from a <a href="http://www.ncbi.nlm.nih.gov/pubmed/17138671">publication by Paoletti et al. (2006)</a>. The SI<sub>N</sub> method is from the <a href="http://www.nature.com/nbt/journal/v28/n1/abs/nbt.1592.html">Griffin et al. (2010) paper</a>. The two quantification methods are listed below:</p>
<div>
<div> <u>Protein Quantification </u>
<ol>
<li><p>For each protein in a given database, the NSAF score is:</p>
<p><img alt="" src="nsaf_prot_equation.png"></p>
<div>where:</div>
<ul>
<li>N is protein index</li>
<li>S<sub>N</sub> is the number Spectra matched to protein index</li>
<li>L<sub>N</sub> is the length of protein N </li>
<li>n is the total number of proteins in the input database</li>
</ul></li>
<li>

	<p>For each protein in a given database, the SI<sub>N</sub> score is:</p>
	<p><img alt="" src="sin_prot_equation.png"></p>
	<div>where:</div>
	<ul>
		<li>N is protein index</li>
		<li>p<sub>n</sub> is number of unique peptides in protein N</li>
		<li>s<sub>j</sub> number of spectra assigned to peptide j</li>
		<li>i<sub>k</sub> is the total fragment ion intensity of spectrum k</li>
		<li>L<sub>N</sub> is length of protein N</li>
	</ul>
</li>
</ol>
</div>

<div> <u>Peptide Quantification</u>
  <ol>
<li><p>For each peptide in a given database, the NSAF score is:</p>
<p><img alt="" src="nsaf_pep_equation.png"></p>
<div>where:</div>
<ul>
<li>N is peptide index</li>
<li>S<sub>N</sub> is the number Spectra matched to peptide N</li>
<li>L<sub>N</sub> is the length of peptide N </li>
<li>n is the total number of peptides in the input database</li>
</ul></li>
<li>

	<p>For each peptide in a given database, the SI<sub>N</sub> score is:</p>
	<p><img alt="" src="sin_pep_equation.png"></p>
	<div>where:</div>
	<ul>
		<li>N is peptide index</li>
		<li>s<sub>N</sub> is number of spectra assigned to peptide N</li>
		<li>i<sub>k</sub> is the total fragment ion intensity of spectra</li>
		<li>L<sub>N</sub> is length of peptide N</li>
	</ul>
</li>
</ol>
</div>
</div>


</blockquote>
<p>
<b>Input:</b></p>
<ul>
<li>
<code>&lt;input-PSM&gt;</code> – Tab delimited text file (for example
percolator.target.txt, or qranker.target.txt)</li>
<li><code>&lt;database&gt;</code>
– The
name of the file in
fasta format or the directory containing the protein index from which
to retrieve proteins and peptides.&nbsp;</li>
</ul>
<b>Output:</b>
<ul>
<p>
The program writes one file to the folder <code>crux-output</code>
by default.
The name of the output folder can be set by the user using the <code>--output-dir</code>
option.
The following file will be created:</p>
<li>
<b>quantify.target.txt</b>:
a tab-delimited text file
containing the
protein IDs and their corresponding scores, in sorted order.
In addition, a log file called </li><li><span style="font-weight: bold;">quantify.log.txt</span> will be written in the same directory.&nbsp;</li>
</ul>
<b>Options:</b>
<br>
<ul>
<li>
  <code>--measure NSAF|SIN</code> –
  Type of analysis to make on match results: (NSAF | SIN). Default SIN.
</li>
<li>
  <code>--quant-level PROTEIN|PEPTIDE</code> - 
  Quantification at protein or peptide level. See how methods differ under Description. Default=PROTEIN.
  
</li>
<li>
  <code>--threshold &lt;double&gt; </code>-
The&nbsp;q-value threshold (all PSMs with q-value higher than this will be
ignored). Default = 0.01.
<code></code></li>
<li><code>--fileroot &lt;string&gt;</code>
– The <code>fileroot</code>
string will be added as a prefix to all
output file names. Default = none.</li>
<li>
<code>--input-MS2 &lt;string&gt;</code> –
ms2 file corresponding to the psm file. Required if you plan to measure the SIN. Ignored for NSAF.</li>
<li>
<code>--output-dir &lt;filename&gt;</code> –
The name of the directory where output files will be created.
Default = crux-output.</li>
<li>
  <code>--unique-mapping &lt;unique-mapping&gt;</code> -
  Ignore peptides with multiple mappings to proteins (T,F). Default (F)
</li>
<li>
<code>--overwrite T|F</code> - Replace
existing files if true (T) or
fail when trying to overwrite a file if false (F). Default = F.
</li>
<li><code>--version T</code> –
Print the version number and quit. Please note that you must include
the 'T' after --version.
</li>
</ul>
<hr>
<p><a href="http://noble.gs.washington.edu/%7Eandrones/internal/proj/crux-spit/doc/user/crux.html">Crux
home</a></p>
</blockquote>
</body></html>
